## 팩토리 메서드
클라이언트로 하여금 사용할 클래스를 정확히 몰라도 개체 생성을 가능하게 해주는 패턴이다. 

### 언제 활용되나?

+ 어떤 클래스가 자신이 생성해야 하는 객체의 클래스를 예측할 수 없을 때
+ 생성할 객체를 기술하는 책임을 자신의 서브클래스가 지정했으면 할 때(멤버 변수 초기화)

### 생성자와 비교했을 때의 장점
생성자 대신 정적 메서드를 사용하는 것이 팩토리 메서드의 특징이다. 정적 메서드는 null을 반환할 수 있고, 생성자는 반환형이 없기에 생성이 불가능한 경우 예외를 던질 수 밖에 없다. 정리해보자면..

+ 클라이언트는 본인에게 익숙한 인자를 통해 개체 생성이 가능해진다.
+ 생성자에서 오류 상황 감지 시 null 반환 가능하다. 
+ 다형적으로 개체 생성이 가능하다? (밑에서 살펴보자)

위에서 알아본 팩토리 메서드는 정적 메서드이다. 하지만 정적 메서드는 다형적으로 생성 불가하다. 다형적으로 만들기 위해선 비정적 메서드로 만든다 **(다형적인 팩토리 메서드)** . 이 패턴을 **가상 생성자 패턴** 이라 한다. 

## 빌더 패턴
개체의 생성과정을 그 개체의 클래스로부터 분리하는 방법이다. 개체의 부분부분을 만들어 나가다 준비되면 그제서야 개체를 생성한다. 다형성이 없는 빌더 패턴의 예는 **StringBuilder** 를 들 수 있다. 복잡한 문서는 빌더 사용 없이 String으로 만들기 힘들다. 하지만, 작성자의 의도를 명확히 파악하기 힘들어진다.

	builder.append(heading);	//작성자는 제목을 넣고 두 줄을 띄우고자 한다.
	builder.append(newLine);	
	builder.append(newLine);

서로 다른 3개를 추가하는 느낌을 준다. 여기서 의도를 명확히 파악하려면?   
**플루언트 인터페이스(fluent interface)** 를 이용하자. 플루언트 인터페이스란 **메서드 체이닝을 지원하는 디자인 패턴** 이다. 메서드 체이닝은 OOP에서 여러 메서드를 이어서 호출하는 문법이다.  
요즘은 빌더 패턴 구현 시 플루언트 인터페이스를 지원하는 경우가 종종 있다고 한다. 플루언트 인터페이스를 사용하면..

	builder.append(heading)
			.append(newLine)
			.append(newLine);		//append메서드는 자기 자신을 반환한다. 

빌더 패턴을 **다형적으로 확장** 해보자.

![](https://t1.daumcdn.net/cfile/tistory/24341F50571D84C407)

포큐 강의에 나온 것처럼 좋은 예시 사진은 아니지만, 사진을 넣은 이유는 빌더 패턴도 다형적으로 설계가 가능하다는 것임을 보여주는 사진이라 생각해서이다(클래스 다이어그램에 매개변수라던가 반환값 등 정확히 기재되어있진 않다). 

## 시퀀스 다이어그램
회의실에서 화이트보드 놓고 회의할 때 많이 쓰인다고 한다. 시퀀스 다이어그램은 개체들이 서로 통신하는 모습을 보여주는 UML 다이어그램이며, 동작을 **시간흐름** 에 따라 보여준다.

![](https://mblogthumb-phinf.pstatic.net/20151028_263/lsc173_1445970138918osqkX_PNG/%BD%C3%C4%F6%BD%BA.png?type=w2)

+ 참여자(네모) : 개체
+ 수명선(점선) : 참여자와 함께 존재, 한 참여자에 두 개의 수명선은 불가능
+ 활성화 상자(기다란 사각형) : 개체가 실행 중인 기간을 표시(보통 함수의 호출 시부터 반환까지)
+ 동기화 메시지(실선) : 발신자는 메시지를 보낸 후 대기, 수신자는 메시지를 처리한 후 발신자에게 반환
+ 참여자 생성 메시지(점선 화살표) : 메시지를 보내 참여자를 생성
+ 반환 메시지(점선 화살표 반대 방향 <---) : 발신자에게 메시지 처리완료를 알리는 메시지 














## Reference
[https://readystory.tistory.com/117](https://readystory.tistory.com/117)
[https://zetawiki.com/wiki/%ED%94%8C%EB%A3%A8%EC%96%B8%ED%8A%B8_%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4,_%EB%A9%94%EC%86%8C%EB%93%9C_%EC%B2%B4%EC%9D%B4%EB%8B%9D](https://zetawiki.com/wiki/%ED%94%8C%EB%A3%A8%EC%96%B8%ED%8A%B8_%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4,_%EB%A9%94%EC%86%8C%EB%93%9C_%EC%B2%B4%EC%9D%B4%EB%8B%9D)
[https://ehclub.co.kr/2162](https://ehclub.co.kr/2162)
[https://m.blog.naver.com/PostView.nhn?blogId=lsc173&logNo=220521678159&proxyReferer=https:%2F%2Fwww.google.com%2F](https://m.blog.naver.com/PostView.nhn?blogId=lsc173&logNo=220521678159&proxyReferer=https:%2F%2Fwww.google.com%2F)